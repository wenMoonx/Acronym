{"version":3,"sources":["../../src/services/acronym.service.ts"],"sourcesContent":["import { HttpException } from '@exceptions/HttpException';\nimport { Acronym, AcronymGroup } from '@interfaces/acronym.interface';\nimport acronymModel from '@models/acronym.model';\n\nclass AcronymService {\n  public acronyms = acronymModel.readFile();\n\n  public async readAcronym(from: number, limit: number, search: string): Promise<AcronymGroup> {\n    const findAcronyms: Acronym[] = this.acronyms.filter(acronym => {\n      const key = Object.keys(acronym)[0];\n      if (key.search(search) !== -1 || acronym[key].search(search) !== -1) {\n        return acronym;\n      }\n    });\n    return {\n      acronyms: findAcronyms.slice(Number(from), Number(from) + Number(limit) + 1),\n      isOnly: findAcronyms.length >= limit,\n    };\n  }\n\n  public async createAcronym(acronym: string, description: string) {\n    if (this.acronyms.some((data: any) => Object.keys(data)[0] === acronym)) throw new HttpException(409, 'Acronym already exist');\n\n    this.acronyms.push({ [acronym]: description });\n    return acronymModel.writeFile(JSON.stringify(this.acronyms));\n  }\n\n  public async updateAcronym(nowAcronym: string, newAcronym: string) {\n    const findAcronym: Acronym = this.acronyms.find(acronym => Object.keys(acronym)[0] === nowAcronym);\n    if (!findAcronym) throw new HttpException(409, \"Acronym doesn't exist\");\n\n    const updateAcronymData: Acronym[] = this.acronyms.map((acronym: any) => {\n      if (Object.keys(acronym)[0] === nowAcronym) acronym = { [newAcronym]: acronym[nowAcronym] };\n      return acronym;\n    });\n\n    return acronymModel.writeFile(JSON.stringify(updateAcronymData));\n  }\n\n  public async deleteAcronym(deleteAcronym: string) {\n    const findAcronym: Acronym = this.acronyms.find(acronym => Object.keys(acronym)[0] === deleteAcronym);\n    if (!findAcronym) throw new HttpException(409, \"Acronym doesn't exist\");\n\n    const deleteAcronymData: Acronym[] = this.acronyms.filter(acronym => Object.keys(acronym)[0] !== deleteAcronym);\n\n    return acronymModel.writeFile(JSON.stringify(deleteAcronymData));\n  }\n}\n\nexport default AcronymService;\n"],"names":["AcronymService","readAcronym","from","limit","search","findAcronyms","acronyms","filter","acronym","key","Object","keys","slice","Number","isOnly","length","createAcronym","description","some","data","HttpException","push","acronymModel","writeFile","JSON","stringify","updateAcronym","nowAcronym","newAcronym","findAcronym","find","updateAcronymData","map","deleteAcronym","deleteAcronymData","readFile"],"mappings":"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"}